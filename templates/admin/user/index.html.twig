{% extends 'adminbase.html.twig' %}

{% block title %}user index
{% endblock %}

{% block body %}
	<div class="main-panel">
		<div class="content">
			<div class="panel-header bg-primary-gradient">
				<div class="page-inner py-5">
					<div class="d-flex align-items-left align-items-md-center flex-column flex-md-row"></div>
				</div>
			</div>
			<div class="page-inner mt--5">
				<div class="row-md-12 mt--2">
					<div class="col-md-12">
						<div class="card full-height">
							<div class="card-body">
								<div class="card-title pb-2 fw-bold">User index</div>
								<div class="flex-wrap justify-content-around pb-2 pt-4">
									<table class="table">
										<thead>
											<tr>
												<th>Id</th>
												<th>Email</th>
												<th>Roles</th>
												<th>Name</th>
												<th>Surname</th>
												<th>Image</th>
												<th>Status</th>
												<th>actions</th>
											</tr>
										</thead>
										<tbody>
											{% for user in users %}
												<tr>
													<td>{{ user.id }}</td>
													<td>{{ user.email }}</td>
													<td>{{ user.roles ? user.roles|json_encode : '' }}</td>
													<td>{{ user.name }}</td>
													<td>{{ user.surname }}</td>
													<td><img src="{{asset('uploads/images/'~user.image)}}" height="40"></td>
													<td>{{ user.status }}</td>
													<td>
														<a href="{{ path('admin_user_show', {'id': user.id}) }}"><button class="btn btn-primary btn-sm">show</button></a>
														<a href="{{ path('admin_user_edit', {'id': user.id}) }}"><button class="btn btn-secondary btn-sm">edit</button></a>
														{{ include('admin/user/_delete_form.html.twig') }}
													</td>
												</tr>
											{% else %}
												<tr>
													<td colspan="11">no records found</td>
												</tr>
											{% endfor %}
										</tbody>
									</table>

									<a href="{{ path('admin_user_new') }}"><button class="btn btn-success">Create new</button></a>

								</div>
							</div>
						</div>
					</div>


				</div>
			</div>

		</div>
	{% endblock %}
